{"version":3,"sources":["firebase-config.js","components/chat.js","components/sginin.js","App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","dbauth","getAuth","Chat","useState","messages","setmessages","sendm","setsendm","inpute","useRef","fetchmessages","a","getDocs","query","collection","limit","orderBy","querySnapshot","docs","map","doc","data","id","useEffect","clickhadler","current","value","currentUser","photoURL","uid","addDoc","text","serverTimestamp","className","onClick","signOut","m","src","ref","type","onChange","e","target","placeholder","Sginin","provider","GoogleAuthProvider","signInWithPopup","App","useAuthState","user","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6RAcMA,EAAMC,YATW,CACrBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,8CAIIC,EAAKC,YAAaT,GAClBU,EAASC,YAAQX,G,QCTf,SAASY,IACpB,MAA+BC,mBAAS,IAAxC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAyBF,mBAAS,IAAlC,mBAAOG,EAAP,KAAaC,EAAb,KACMC,EAASC,iBAAO,MAGhBC,EAAa,uCAAC,4BAAAC,EAAA,sEACYC,YAAQC,YAAMC,YAAWhB,EAAI,YAAYiB,YAAM,IAAIC,YAAQ,qBADvE,OACVC,EADU,OAEhBZ,EAAYY,EAAcC,KAAKC,KAAI,SAACC,GAAD,mBAAC,eAAWA,EAAIC,QAAhB,IAAuBC,GAAGF,EAAIE,SAFjD,2CAAD,qDAOnBC,qBAAU,WACNb,OAGJ,IAAMc,EAAW,uCAAC,gCAAAb,EAAA,6DACdH,EAAOiB,QAAQC,MAAM,GADP,EAES1B,EAAO2B,YAAvBC,EAFO,EAEPA,SAASC,EAFF,EAEEA,IAFF,SAGRC,YAAOhB,YAAWhB,EAAG,YAAY,CAACiC,KAAKzB,EAAM0B,gBAAgBA,cAAkBJ,SAASA,EAASC,IAAIA,IAH7F,2CAAD,qDAMjB,OACI,qBAAKI,UAAU,YAAf,SACI,sBAAKA,UAAU,QAAf,UACI,mCACI,8CACA,wBAAQA,UAAU,QAAQC,QAAS,WAAKlC,EAAOmC,WAA/C,wBAEJ,qBAAKF,UAAU,UAAf,SACI,qBAAKA,UAAU,KAAf,SACK7B,EAASe,KAAI,SAACiB,GAAD,OAAM,sBAAgBH,UAAWG,EAAEP,MAAQ7B,EAAO2B,YAAYE,IAAK,KAAO,QAApE,UAA6E,qBAAgBQ,IAAKD,EAAER,UAAbQ,EAAEd,IAAsB,4BAAIc,EAAEL,SAA3GK,EAAEd,WAGxC,sBAAKW,UAAU,SAAf,UACI,uBAAOK,IAAK9B,EAAQ+B,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAKlC,EAASkC,EAAEC,OAAOhB,QAAQiB,YAAY,mBACrF,wBAAQV,UAAU,QAAQC,QAASV,EAAnC,0B,MCvCL,SAASoB,IAQpB,OACI,qBAAKX,UAAU,YAAf,SACI,qBAAKA,UAAU,SAAf,SACI,wBAAQA,UAAU,QAAQC,QARpB,WACd,IAAMW,EAAW,IAAIC,IACrBC,YAAgB/C,EAAQ6C,IAMhB,kC,YCCDG,MAVf,WACE,MAAeC,YAAajD,GAArBkD,EAAP,oBAEA,OACE,mCACCA,EAAM,cAAChD,EAAD,IAAW,cAAC0C,EAAD,OCRtBO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ace17b6e.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore} from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBYBcGAkJkAXqfhEGMv6cT0xEHD0yhsu70\",\r\n  authDomain: \"chatapp2-44c1c.firebaseapp.com\",\r\n  projectId: \"chatapp2-44c1c\",\r\n  storageBucket: \"chatapp2-44c1c.appspot.com\",\r\n  messagingSenderId: \"260017434941\",\r\n  appId: \"1:260017434941:web:7497faadbd706a79585554\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\nexport const dbauth = getAuth(app);\r\n","import React , {useState,useEffect,useRef} from 'react'\r\nimport \"./chat.css\"\r\nimport { dbauth,db } from \"../firebase-config\"\r\nimport { collection, getDocs , addDoc } from \"firebase/firestore\"; \r\nimport { query, orderBy, limit , serverTimestamp } from \"firebase/firestore\";  \r\n\r\n\r\nexport default function Chat() {\r\n    const [messages,setmessages] = useState([]);\r\n    const [sendm,setsendm] = useState(\"\");\r\n    const inpute = useRef(null);\r\n\r\n\r\n    const fetchmessages=async()=>{\r\n        const querySnapshot = await getDocs(query(collection(db, \"messages\"),limit(30),orderBy(\"serverTimestamp\")));\r\n        setmessages(querySnapshot.docs.map((doc)=>({...doc.data(),id:doc.id})));\r\n        //addDoc(collection(db,\"messages\"),{text:\"last\",serverTimestamp:serverTimestamp()})\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchmessages()\r\n    })\r\n\r\n    const clickhadler=async()=>{\r\n        inpute.current.value=\"\";\r\n        const {photoURL,uid} = dbauth.currentUser;\r\n        await addDoc(collection(db,\"messages\"),{text:sendm,serverTimestamp:serverTimestamp(),photoURL:photoURL,uid:uid});\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"contc\">\r\n                <header>\r\n                    <h1>Hackers Chat</h1>\r\n                    <button className=\"cnbtn\" onClick={()=>{dbauth.signOut()}}>Log out</button>\r\n                </header>\r\n                <div className=\"thebody\">\r\n                    <div className=\"ct\">\r\n                        {messages.map((m)=> <div key={m.id} className={m.uid === dbauth.currentUser.uid? \"me\" : \"notme\"}><img key={m.id} src={m.photoURL}/><p>{m.text}</p></div> )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottom\">\r\n                    <input ref={inpute} type=\"text\" onChange={(e)=>setsendm(e.target.value)} placeholder=\"Type a message\"></input>\r\n                    <button className=\"cnbtn\" onClick={clickhadler}>send</button>\r\n                </div>\r\n            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport \"./sginin.css\"\r\nimport { dbauth } from \"../firebase-config\"\r\nimport { GoogleAuthProvider , signInWithPopup } from \"firebase/auth\";\r\n\r\nexport default function Sginin() {\r\n\r\n\r\n    const sgininclick=()=>{\r\n        const provider = new GoogleAuthProvider();\r\n        signInWithPopup(dbauth, provider)    \r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"contin\">\r\n                <button className=\"inbtn\" onClick={sgininclick}>Login With Gmail</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './App.css';\nimport Chat from './components/chat';\nimport Sginin from './components/sginin';\nimport { dbauth } from './firebase-config';\nimport { useAuthState } from \"react-firebase-hooks/auth\"\n\n\nfunction App() {\n  const [user] = useAuthState(dbauth);\n  \n  return(\n    <>\n    {user? <Chat /> : <Sginin />}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}